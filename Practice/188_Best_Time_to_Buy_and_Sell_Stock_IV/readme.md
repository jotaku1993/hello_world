Use dynamic programming.

If k is large, we can make a deal every day.

If k is small, initialize the sell and buy list.

For every day, make a decision if buy or sell the stock.
