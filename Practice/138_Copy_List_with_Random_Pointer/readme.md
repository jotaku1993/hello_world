Use hash table to record the pair (label, node).

In first loop, build the new nodes, connect them by "next" and record the nodes in hashtable.
In second loop, connect them by "random "with the help of hashtable.
